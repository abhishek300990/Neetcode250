<html>
<script>
    //You are given an integer array nums and an integer k, return true if there are two distinct indices 
    // i and j in the array such that nums[i] == nums[j] and abs(i - j) <= k, otherwise return false.
    function containsNearbyDuplicate(nums, k) {
        const map = new Map(); // to store the value and its latest index

        for (let i = 0; i < nums.length; i++) {
            if (map.has(nums[i])) {
                const prevIndex = map.get(nums[i]);
                if (i - prevIndex <= k) {
                    return true;
                }
            }
            map.set(nums[i], i); // update the latest index
        }

        return false;
    }


    function containsNearbyDuplicateSet(nums, k) {
        const set = new Set();

        for (let i = 0; i < nums.length; i++) {
            if (set.has(nums[i])) {
                return true;
            }

            set.add(nums[i]);

            // Maintain the window size of at most k
            if (set.size > k) {
                set.delete(nums[i - k]);
            }
        }

        return false;
    }


    console.log(containsNearbyDuplicate([1, 2, 3, 1], 3));      // true
    console.log(containsNearbyDuplicate([1, 0, 1, 1], 1));      // true
    console.log(containsNearbyDuplicate([1, 2, 3, 1, 2, 3], 2)); // false


</script>

</html>